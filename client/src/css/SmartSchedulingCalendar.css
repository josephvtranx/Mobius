/* ========================================
   SMART SCHEDULING CALENDAR - MAIN CONTAINER
   ======================================== */
.smart-scheduling-calendar {
  padding: 5px;                     /* Reduced overall calendar container padding */
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  /* Ensure this component doesn't interfere with other calendars */
  isolation: isolate;
}

/* ========================================
   CALENDAR CONTAINER & OVERALL DIMENSIONS
   ======================================== */
.rbc-calendar {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  /* Overall calendar width is controlled by parent container */
  /* Overall calendar height is set in the component: style={{ height: 500 }} */
}

/* ========================================
   CALENDAR HEADER STYLING
   ======================================== */
.rbc-header {
  background-color: #f8fafc;
  border-bottom: 2px solid #e2e8f0;
  padding: 4px 1px;                 /* Reduced header cell padding */
  font-weight: 600;
  color: #374151;
  text-align: center;
  font-size: 11px;                  /* Reduced header text size */
  /* Header height is controlled by padding + font-size + line-height */
}

/* ========================================
   TIME GRID & COLUMN STRUCTURE
   ======================================== */
.rbc-time-view {
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  overflow: hidden;
  /* Overall calendar grid container */
}

.rbc-time-header {
  border-bottom: 2px solid #e2e8f0;
  /* Header row container */
}

.rbc-time-content {
  border-top: none;
  position: relative;               /* Create stacking context for events */
  /* Main content area containing time slots */
}

/* ========================================
   TIME SLOT DIMENSIONS & SPACING
   ======================================== */
.rbc-timeslot-group {
  border-bottom: 0.5px solid #f1f5f9;  /* Thinner horizontal grid lines */
  height: 12px;                     /* Fixed height for consistency */
  position: relative;               /* Create stacking context */
  overflow: visible;                 /* Allow events to overlap */
  /* Each time slot group (15-minute interval) */
}

.rbc-time-slot {
  border-top: 0.5px solid #f1f5f9;     /* Thinner horizontal grid lines */
  height: 12px;                     /* Fixed height - no min/max */
  padding: 0;                       /* Remove all padding */
  margin: 0;                        /* Remove all margin */
  box-sizing: border-box;           /* Include border in height calculation */
  position: relative;               /* Create stacking context for events */
  overflow: visible;                 /* Allow events to overlap */
  /* Individual time slot cells - controls vertical spacing */
}

/* Hide :30 time labels (every other time slot) */
.rbc-time-gutter .rbc-timeslot-group:nth-child(even) .rbc-label {
  display: none;
}

/* ========================================
   TIME GUTTER (LEFT SIDE TIME LABELS)
   ======================================== */
.rbc-time-gutter .rbc-timeslot-group {
  border-right: 1px solid #e2e8f0;
  height: 12px;                     /* Match the main time slot height */
  /* Time gutter column border */
}

.rbc-time-gutter .rbc-label {
  padding: 0;                       /* Remove all padding */
  margin: 0;                        /* Remove all margin */
  font-size: 10px;                  /* Smaller time label text size */
  color: #6b7280;
  font-weight: 500;
  line-height: 12px;                /* Match the height exactly */
  text-align: left;                 /* Align time labels to the left */
  padding-left: 4px;                /* Minimal left padding */
  height: 12px;                     /* Fixed height */
  display: flex;
  align-items: center;
  box-sizing: border-box;           /* Include padding in height calculation */
  /* Individual time labels (6:00 AM, 6:15 AM, etc.) */
}

/* ========================================
   COLUMN WIDTHS & HEADER COLUMNS
   ======================================== */
.rbc-time-header-content {
  border-left: 1px solid #e2e8f0;
  /* Header content area - controls day column widths */
  /* Column widths are automatically distributed equally */
}

.rbc-time-header-content .rbc-header {
  border-right: 1px solid #e2e8f0;
  padding: 3px 1px;                 /* Reduced day header padding */
  font-size: 10px;                  /* Smaller day header text size */
  /* Individual day headers (Monday, Tuesday, etc.) */
}

/* ========================================
   EVENT STYLING & DIMENSIONS
   ======================================== */
.rbc-event {
  border-radius: 2px;               /* Smaller event corner roundness */
  padding: 1px 3px;                 /* Much smaller event internal padding */
  margin: 0px;                      /* No event spacing between events */
  font-size: 9px;                   /* Smaller event text size */
  font-weight: 500;
  border: 1px solid;                /* Thinner event border */
  transition: all 0.2s ease;
  cursor: default;
  line-height: 1.0;                 /* Tighter event text line height */
  position: relative;                /* Enable z-index positioning */
  /* Individual calendar events */
}

/* Event layering - ensure student preferences appear on top */
.rbc-event[style*="z-index: 0"] {
  z-index: 0 !important;            /* Instructor availability - bottom layer */
  pointer-events: none !important;  /* Disable all interactions */
  cursor: default !important;       /* Always default cursor */
  position: absolute !important;    /* Ensure absolute positioning */
}

.rbc-event[style*="z-index: 2"] {
  z-index: 2 !important;            /* Existing sessions - middle layer */
  cursor: default !important;
  pointer-events: none !important;  /* Disable interactions */
  position: absolute !important;    /* Ensure absolute positioning */
}

.rbc-event[style*="z-index: 3"] {
  z-index: 3 !important;            /* Student preferences - top layer */
  cursor: not-allowed !important;
  pointer-events: none !important;  /* Disable interactions for conflicts */
  position: absolute !important;    /* Ensure absolute positioning */
}

.rbc-event[style*="z-index: 4"] {
  z-index: 4 !important;            /* Available preferences - highest layer */
  cursor: grab !important;
  pointer-events: auto !important;  /* Essential for dragging */
  position: absolute !important;    /* Ensure absolute positioning */
}

.rbc-event[style*="z-index: 5"] {
  z-index: 5 !important;            /* Selected preferences - highest layer */
  cursor: grab !important;
  pointer-events: auto !important;  /* Essential for dragging */
  position: absolute !important;    /* Ensure absolute positioning */
}

/* Ensure drag-and-drop works properly */
.rbc-event.rbc-selected {
  cursor: grabbing !important;
  transform: scale(1.02);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
  pointer-events: auto !important;
  z-index: 10 !important;          /* Highest z-index when being dragged */
  position: absolute !important;
}

/* Disable hover effects for availability events */
.rbc-event[style*="z-index: 1"]:hover {
  transform: none !important;
  box-shadow: none !important;
}

/* Only allow hover effects for draggable events */
.rbc-event[style*="z-index: 4"]:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

/* Disable hover for non-draggable events */
.rbc-event[style*="z-index: 2"]:hover,
.rbc-event[style*="z-index: 3"]:hover {
  transform: none !important;
  box-shadow: none !important;
}

/* ========================================
   DRAGGABLE EVENT STYLING
   ======================================== */
.rbc-event[draggable="true"] {
  cursor: grab;
  /* Events that can be dragged */
}

.rbc-event[draggable="true"]:active {
  cursor: grabbing;
  transform: scale(1.02);
  /* Events while being dragged */
}

/* ========================================
   CUSTOM EVENT COMPONENT STYLING
   ======================================== */
.calendar-event {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;                      /* Event content width */
  height: 100%;                     /* Event content height */
  /* Custom event component container */
}

.event-title {
  font-size: 8px;                   /* Much smaller event title text size */
  line-height: 1.0;                 /* Tighter event title line height */
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  /* Event title text */
}

.conflict-indicator {
  font-size: 8px;                   /* Smaller conflict icon size */
  margin-left: 1px;                 /* Reduced space between title and icon */
  /* Conflict warning icon */
}

/* Drag indicator removed - no longer needed */

/* ========================================
   DRAG FEEDBACK & SELECTION STYLING
   ======================================== */
.rbc-event.rbc-selected {
  background-color: #3b82f6 !important;
  border-color: #1d4ed8 !important;
  color: white !important;
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
  /* Events when selected/dragged */
}

/* ========================================
   TODAY COLUMN HIGHLIGHTING
   ======================================== */
.rbc-today {
  background-color: #fef3c7;
  /* Today's column background color */
}

/* ========================================
   GRID LINES & BORDERS
   ======================================== */
.rbc-time-content > * + * > * {
  border-left: 1px solid #e2e8f0;
  /* Vertical grid lines between day columns */
}

/* ========================================
   HOVER EFFECTS FOR TIME SLOTS
   ======================================== */
.rbc-time-slot:hover {
  background-color: #f8fafc;
  /* Time slot hover background */
}

/* ========================================
   ACCESSIBILITY & FOCUS STATES
   ======================================== */
.rbc-event:focus {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
  /* Event focus outline for keyboard navigation */
}

/* ========================================
   ALL-DAY EVENTS SECTION (HIDDEN)
   ======================================== */
.rbc-allday-cell {
  display: none;
  /* All-day events cell - hidden for class scheduling */
}

.rbc-allday-events {
  display: none;
  /* All-day events container - hidden for class scheduling */
}

/* ========================================
   CALENDAR LEGEND STYLING
   ======================================== */
.calendar-legend {
  display: flex;
  flex-wrap: wrap;
  gap: 16px;                        /* Space between legend items */
  margin-top: 20px;                 /* Space above legend */
  padding: 16px;                    /* Legend internal padding */
  background-color: #f8fafc;
  border-radius: 8px;
  border: 1px solid #e2e8f0;
  /* Legend container */
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 8px;                         /* Space between color box and text */
  font-size: 14px;                  /* Legend text size */
  color: #374151;
  /* Individual legend items */
}

.legend-color {
  width: 16px;                      /* Legend color box width */
  height: 16px;                     /* Legend color box height */
  border-radius: 4px;               /* Legend color box roundness */
  border: 2px solid;                /* Legend color box border */
  /* Legend color indicators */
}

/* ========================================
   LEGEND COLOR VARIATIONS
   ======================================== */
.legend-color.availability {
  background-color: #dcfce7;
  border-color: #22c55e;
  /* Instructor availability color */
}

.legend-color.preference {
  background-color: #c7d2fe;
  border-color: #818cf8;
  /* Student preference color */
}

.legend-color.available {
  background-color: #dbeafe;
  border-color: #3b82f6;
  /* Available for scheduling color */
}

.legend-color.conflict {
  background-color: #fecaca;
  border-color: #f87171;
  /* Conflict/unavailable color */
}

/* ========================================
   RESPONSIVE DESIGN
   ======================================== */
@media (max-width: 768px) {
  .smart-scheduling-calendar {
    padding: 10px;                  /* Reduced padding on mobile */
  }
  
  .calendar-legend {
    flex-direction: column;
    gap: 8px;                       /* Reduced gap on mobile */
  }
  
  .rbc-event {
    font-size: 10px;                /* Smaller event text on mobile */
    padding: 2px 4px;               /* Reduced event padding on mobile */
  }
  
  .event-title {
    font-size: 10px;                /* Smaller event title on mobile */
  }
}

/* ========================================
   LOADING & ERROR STATES
   ======================================== */
.calendar-loading {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 200px;                    /* Loading state height */
  color: #6b7280;
  font-size: 14px;                  /* Loading text size */
  /* Loading state container */
}

.calendar-error {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 200px;                    /* Error state height */
  color: #dc2626;
  font-size: 14px;                  /* Error text size */
  text-align: center;
  padding: 20px;                    /* Error state padding */
  /* Error state container */
}

/* ========================================
   TIME CONTENT ALIGNMENT
   ======================================== */
.rbc-time-content {
  border-top: none;
  /* Main content area containing time slots */
}

.rbc-time-content .rbc-timeslot-group {
  height: 12px;                     /* Ensure consistent height */
}

.rbc-time-content .rbc-time-slot {
  height: 12px;                     /* Ensure consistent height */
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

/* ========================================
   TIME HEADER GUTTER (TOP-LEFT CORNER)
   ======================================== */

/* Additional specificity for the gutter container */
.rbc-time-header-gutter {
  width: 40px !important;
  max-width: 40px !important;
  min-width: 48px !important;
  flex: 0 0 15px !important;
}

/* Drag overlay styling */
.rbc-dnd-drag-proxy {
  pointer-events: none !important;
  z-index: 15 !important;          /* Highest z-index for drag proxy */
}

.rbc-dnd-drag-proxy .rbc-event {
  pointer-events: none !important;
  z-index: 15 !important;
}

/* Custom event component styling for draggable events */
.calendar-event[draggable="true"] {
  cursor: grab !important;
  pointer-events: auto !important;
}

.calendar-event[draggable="true"]:active {
  cursor: grabbing !important;
}

/* ========================================
   AVAILABILITY EVENT STYLING (BACKGROUND)
   ======================================== */
.availability-event {
  pointer-events: none !important;
  cursor: default !important;
  user-select: none !important;
  background-color: #dcfce7 !important;
  border: 1px solid #22c55e !important;
  color: #166534 !important;
  opacity: 0.4 !important;
  z-index: 0 !important;
  font-size: 8px !important;
  position: absolute !important;
  width: calc(100% - 2px) !important;
  left: 1px !important;
  right: 1px !important;
}

.availability-event:hover {
  transform: none !important;
  box-shadow: none !important;
  background-color: #dcfce7 !important;
  pointer-events: none !important;
}

.availability-event .event-title {
  font-size: 7px !important;
  opacity: 0.8 !important;
}

/* Ensure availability events don't interfere with other events */
.rbc-event[style*="z-index: 0"] {
  pointer-events: none !important;
  cursor: default !important;
  position: absolute !important;
}

.rbc-event[style*="z-index: 0"]:hover {
  transform: none !important;
  box-shadow: none !important;
  pointer-events: none !important;
} 